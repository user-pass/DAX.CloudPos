<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>RefinerDialog</title>
    <link href="SearchRefinerDialog.min.css" rel="stylesheet" />
</head>
<body>
    <div class="searchRefinerDialog" data-bind="customControlInternal: 'SearchRefinerDialog'">
        <div data-bind="dialog: {
            title: title,
            visible: visible,
            buttonClick: applyRefinerButtonClick,
            showProgressIndicator: indeterminateWaitVisible,
            closeOnEscButton: true,
            dialogCloseButtonClick: dialogCloseButtonClick,
            buttons: [
                { label: Commerce.ViewModelAdapter.getResourceString('string_79'), operationId: Commerce.Controls.Dialog.OperationIds.OK_BUTTON_CLICK, cssClass: 'okButton', isPrimary:true },
                { label: Commerce.ViewModelAdapter.getResourceString('string_76'), operationId: Commerce.Controls.Dialog.OperationIds.CANCEL_BUTTON_CLICK, cssClass: 'cancelButton' },
            ],
        },
        axBubbleAttr: 'refinerDialog_refinerDialog'">
            <!-- dialog content -->
            <div data-bind="with: viewModel">
                <div data-bind="visible: isRemoteSearchEnabled">
                    <label data-bind="resx: {textContent: 'string_14200'}" for="searchStoreLocations">Stores</label>
                    <select id="searchStoreLocations" data-bind="options: searchLocations,
                        optionsText: 'name',
                        optionsValue: 'value',
                        value: selectedSearchLocation,
                        axBubbleAttr: 'searchRefinerDialog_searchStoreLocations' "></select>
                    <div class="padTop12 line-separator"></div>
                </div>
                <div class="searchRefinerControlLocalStores"
                     data-bind="visible: isSelectedSearchLocationLocal(), refiner: { refinerViewModel: localStoreRefinerViewModel }">
                </div>
                <div class="searchRefinerControlAllStores"
                     data-bind="visible: !isSelectedSearchLocationLocal(), refiner: { refinerViewModel: allStoresRefinerViewModel }">
                </div>
            </div>
        </div>
    </div>
</body>
</html>